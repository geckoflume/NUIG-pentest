#!/usr/bin/env python3
from os import makedirs
from os.path import dirname, realpath
from datetime import datetime

from tests import *
from tools import leds

Test.interface = "wlan1"
Test.results_path = dirname(realpath(__file__)) + "/results/" + datetime.now().strftime("%Y%m%d_%H%M%S") + "/"
Test.tmp_path = Test.results_path+"tmp/"

def _setup():
    leds.led_mode("green", "heartbeat")
    try:
        makedirs(Test.results_path)
        makedirs(Test.tmp_path)
    except FileExistsError:
        pass
    Ip()


def _run_all():
    Cdp()
    DynamicRouting()
    Fhrp()
    NbtScan()
    Nmap()
    Ping()
    PublicIp()
    Traceroute()
    Wep()
    WifiScan()


def _clean():
    leds.led_mode("green", "default-on")


_setup()
# _run_all()
Wep()
_clean()
